function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _superPropGet(t,o,e,r){var p=_get(_getPrototypeOf(1&r?t.prototype:t),o,e);return 2&r&&"function"==typeof p?function(t){return p.apply(e,t)}:p}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var p=_superPropBase(e,t);if(p){var n=Object.getOwnPropertyDescriptor(p,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},_get.apply(null,arguments)}function _superPropBase(t,o){for(;!{}.hasOwnProperty.call(t,o)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classPrivateFieldInitSpec(e,t,a){_checkPrivateRedeclaration(e,t),t.set(e,a)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function _classPrivateFieldSet(s,a,r){return s.set(_assertClassBrand(s,a),r),r}function _classPrivateFieldGet(s,a){return s.get(_assertClassBrand(s,a))}function _assertClassBrand(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var _day=new WeakMap;var _alarm=new WeakMap;var _numStr=new WeakMap;var _amPm=new WeakMap;var _dotBlink=new WeakMap;var _numBlinkStartIdx=new WeakMap;var _numBlinkEndIdx=new WeakMap;var _checkRange=new WeakMap;var _alarmBlink=new WeakMap;var _screenBlink=new WeakMap;var View=function(){function View(){_classCallCheck(this,View);_defineProperty(this,"$elm",null);_defineProperty(this,"$screen",null);_defineProperty(this,"$weeks",null);_defineProperty(this,"$alarm",null);_defineProperty(this,"$numbers",null);_defineProperty(this,"$dots",null);_defineProperty(this,"$amPm",null);_defineProperty(this,"$btnCmd",null);_defineProperty(this,"$btnUp",null);_defineProperty(this,"$btnDown",null);_classPrivateFieldInitSpec(this,_day,-1);_classPrivateFieldInitSpec(this,_alarm,false);_classPrivateFieldInitSpec(this,_numStr,"");_classPrivateFieldInitSpec(this,_amPm,"");_classPrivateFieldInitSpec(this,_dotBlink,false);_classPrivateFieldInitSpec(this,_numBlinkStartIdx,0);_classPrivateFieldInitSpec(this,_numBlinkEndIdx,0);_classPrivateFieldInitSpec(this,_checkRange,function(target,startIdx,endIdx){return target>=startIdx&&target<endIdx});_classPrivateFieldInitSpec(this,_alarmBlink,false);_classPrivateFieldInitSpec(this,_screenBlink,void 0);this.$elm=document.querySelector(".e-clock");this.$screen=this.$elm.querySelector(".screen");this.$weeks=this.$elm.querySelectorAll(".day");this.$alarm=this.$elm.querySelector(".icon-clock");this.$numbers=this.$elm.querySelectorAll(".number");this.$dots=this.$elm.querySelectorAll(".dot");this.$amPm=this.$elm.querySelector(".am-pm");this.$btnCmd=this.$elm.querySelector(".btn-cmd");this.$btnUp=this.$elm.querySelector(".btn-up");this.$btnDown=this.$elm.querySelector(".btn-down")}return _createClass(View,[{key:"bindEvent",value:function bindEvent(_ref){var onCmdClick=_ref.onCmdClick,onUpClick=_ref.onUpClick,onDownClick=_ref.onDownClick;this.$btnCmd.addEventListener("click",onCmdClick);this.$btnUp.addEventListener("click",onUpClick);this.$btnDown.addEventListener("click",onDownClick)}},{key:"renderWeek",value:function renderWeek(day){if(day!==_classPrivateFieldGet(_day,this)){_classPrivateFieldSet(_day,this,day);this.$weeks.forEach(function($item,i){if(i===day){$item.classList.add("active")}else{$item.classList.remove("active")}})}}},{key:"renderAlarm",value:function renderAlarm(flag){if(flag!==_classPrivateFieldGet(_alarm,this)){_classPrivateFieldSet(_alarm,this,flag);if(flag){this.$alarm.classList.add("active")}else{this.$alarm.classList.remove("active")}}}},{key:"renderNum",value:function renderNum(numStr){if(numStr!==_classPrivateFieldGet(_numStr,this)){_classPrivateFieldSet(_numStr,this,numStr);for(var i=0;i<numStr.length&&i<6;i++){this.$numbers[i].querySelectorAll(".branch.active").forEach(function(elm){return elm.classList.remove("active")});this.$numbers[i].querySelectorAll(_numMap._[numStr[i]]).forEach(function(elm){return elm.classList.add("active")})}}}},{key:"renderAmPm",value:function renderAmPm(amPm){if(amPm!==_classPrivateFieldGet(_amPm,this)){_classPrivateFieldSet(_amPm,this,amPm);this.$amPm.innerText=amPm}}},{key:"blinkDot",value:function blinkDot(flag){if(flag!==_classPrivateFieldGet(_dotBlink,this)){_classPrivateFieldSet(_dotBlink,this,flag);this.$dots.forEach(function(elm){if(flag){elm.classList.add("blink")}else{elm.classList.remove("blink")}})}}},{key:"blinkNum",value:function blinkNum(_ref2){var _this=this;var _ref3=_slicedToArray(_ref2,2),startIdx=_ref3[0],endIdx=_ref3[1];this.$numbers.forEach(function(elm,i){if(_classPrivateFieldGet(_checkRange,_this).call(_this,i,_classPrivateFieldGet(_numBlinkStartIdx,_this),_classPrivateFieldGet(_numBlinkEndIdx,_this))&&!_classPrivateFieldGet(_checkRange,_this).call(_this,i,startIdx,endIdx)){elm.classList.remove("blink")}else if(!_classPrivateFieldGet(_checkRange,_this).call(_this,i,_classPrivateFieldGet(_numBlinkStartIdx,_this),_classPrivateFieldGet(_numBlinkEndIdx,_this))&&_classPrivateFieldGet(_checkRange,_this).call(_this,i,startIdx,endIdx)){elm.classList.add("blink")}});_classPrivateFieldSet(_numBlinkStartIdx,this,startIdx);_classPrivateFieldSet(_numBlinkEndIdx,this,endIdx)}},{key:"blinkAlarm",value:function blinkAlarm(flag){if(flag!==_classPrivateFieldGet(_alarmBlink,this)){_classPrivateFieldSet(_alarmBlink,this,flag);if(flag){this.$alarm.classList.add("blink")}else{this.$alarm.classList.remove("blink")}}}},{key:"blinkScreen",value:function blinkScreen(flag){if(flag!==_classPrivateFieldGet(_screenBlink,this)){_classPrivateFieldSet(_screenBlink,this,flag);if(flag){this.$screen.classList.add("blink")}else{this.$screen.classList.remove("blink")}}}}])}();var _numMap={_:{0:".top.left,.top.center,.top.right,.bottom.right,.bottom.center,.bottom.left",1:".top.right,.bottom.right",2:".top.center,.top.right,.middle.center,.bottom.left,.bottom.center",3:".top.center,.top.right,.middle.center,.bottom.right,.bottom.center",4:".top.left,.top.right,.middle.center,.bottom.right",5:".top.left,.top.center,.middle.center,.bottom.right,.bottom.center",6:".top.left,.top.center,.middle.center,.bottom.right,.bottom.center,.bottom.left",7:".top.center,.top.right,.bottom.right",8:".top.left,.top.center,.top.right,.middle.center,.bottom.right,.bottom.center,.bottom.left",9:".top.left,.top.center,.top.right,.middle.center,.bottom.right,.bottom.center"}};var State=function(){function State(view,model){_classCallCheck(this,State);_defineProperty(this,"view",null);_defineProperty(this,"model",null);this.view=view;this.model=model}return _createClass(State,[{key:"update",value:function update(_ref4){var _this2=this;var day=_ref4.day,alarm=_ref4.alarm,num=_ref4.num,amPm=_ref4.amPm,blinkDot=_ref4.blinkDot,blinkNum=_ref4.blinkNum,blinkAlarm=_ref4.blinkAlarm,blinkScreen=_ref4.blinkScreen;this.view.renderWeek(day);this.view.renderAlarm(alarm);this.view.renderNum(num);this.view.renderAmPm(amPm);requestAnimationFrame(function(){_this2.view.blinkDot(blinkDot);_this2.view.blinkNum(blinkNum);_this2.view.blinkAlarm(blinkAlarm);_this2.view.blinkScreen(blinkScreen)})}},{key:"enter",value:function enter(){this.view.blinkDot(false);this.view.blinkNum([0,0]);this.view.blinkAlarm(false);this.view.blinkScreen(false);this.update()}},{key:"exit",value:function exit(){}},{key:"handleCmdClick",value:function handleCmdClick(){}},{key:"handleUpClick",value:function handleUpClick(){}},{key:"handleDownClick",value:function handleDownClick(){}}])}();var StateTime=function(_State2){function StateTime(view,model){var _this3;_classCallCheck(this,StateTime);_this3=_callSuper(this,StateTime,[view,model]);_defineProperty(_this3,"name","time");return _this3}_inherits(StateTime,_State2);return _createClass(StateTime,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.changeState("alarm")}else{_superPropGet(StateTime,"update",this,3)([{day:this.model.day,alarm:this.model.isAlarmSet,num:this.model.timeNum,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,0],blinkAlarm:false,blinkScreen:false}])}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarm")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("date")}},{key:"handleDownClick",value:function handleDownClick(){this.model.changeState("date")}}])}(State);var _timerCountdown=new WeakMap;var StateDate=function(_State3){function StateDate(view,model){var _this4;_classCallCheck(this,StateDate);_this4=_callSuper(this,StateDate,[view,model]);_defineProperty(_this4,"name","date");_classPrivateFieldInitSpec(_this4,_timerCountdown,null);return _this4}_inherits(StateDate,_State3);return _createClass(StateDate,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.changeState("alarm")}else{_superPropGet(StateDate,"update",this,3)([{day:this.model.day,alarm:this.model.isAlarmSet,num:this.model.dateNum,amPm:this.model.amPm,blinkDot:false,blinkNum:[0,0],blinkAlarm:false,blinkScreen:false}])}}},{key:"enter",value:function enter(){var _this5=this;_superPropGet(StateDate,"enter",this,3)([]);if(_classPrivateFieldGet(_timerCountdown,this)===null){_classPrivateFieldSet(_timerCountdown,this,setTimeout(function(){_this5.model.changeState("time");clearTimeout(_classPrivateFieldGet(_timerCountdown,_this5));_classPrivateFieldSet(_timerCountdown,_this5,null)},3000))}}},{key:"exit",value:function exit(){if(_classPrivateFieldGet(_timerCountdown,this)!==null){clearTimeout(_classPrivateFieldGet(_timerCountdown,this));_classPrivateFieldSet(_timerCountdown,this,null)}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarm")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("time")}},{key:"handleDownClick",value:function handleDownClick(){this.model.changeState("time")}}])}(State);var StateSetAlarm=function(_State4){function StateSetAlarm(view,model){var _this6;_classCallCheck(this,StateSetAlarm);_this6=_callSuper(this,StateSetAlarm,[view,model]);_defineProperty(_this6,"name","setAlarm");return _this6}_inherits(StateSetAlarm,_State4);return _createClass(StateSetAlarm,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.changeState("alarm")}else{_superPropGet(StateSetAlarm,"update",this,3)([{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,6],blinkAlarm:true,blinkScreen:false}])}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarmHour")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("time")}},{key:"handleDownClick",value:function handleDownClick(){this.model.closeAlarm();this.model.changeState("time")}}])}(State);var StateSetAlarmHour=function(_State5){function StateSetAlarmHour(view,model){var _this7;_classCallCheck(this,StateSetAlarmHour);_this7=_callSuper(this,StateSetAlarmHour,[view,model]);_defineProperty(_this7,"name","setAlarmHour");return _this7}_inherits(StateSetAlarmHour,_State5);return _createClass(StateSetAlarmHour,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.resetAlarm();this.model.changeState("alarm")}else{_superPropGet(StateSetAlarmHour,"update",this,3)([{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,2],blinkAlarm:true,blinkScreen:false}])}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarmMinute")}},{key:"handleUpClick",value:function handleUpClick(){this.model.addAlarmHour();this.update()}},{key:"handleDownClick",value:function handleDownClick(){this.model.subAlarmHour();this.update()}}])}(State);var StateSetAlarmMinute=function(_State6){function StateSetAlarmMinute(view,model){var _this8;_classCallCheck(this,StateSetAlarmMinute);_this8=_callSuper(this,StateSetAlarmMinute,[view,model]);_defineProperty(_this8,"name","setAlarmMinute");return _this8}_inherits(StateSetAlarmMinute,_State6);return _createClass(StateSetAlarmMinute,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.resetAlarm();this.model.changeState("alarm")}else{_superPropGet(StateSetAlarmMinute,"update",this,3)([{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[2,4],blinkAlarm:true,blinkScreen:false}])}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("setAlarmSecond")}},{key:"handleUpClick",value:function handleUpClick(){this.model.addAlarmMinute();this.update()}},{key:"handleDownClick",value:function handleDownClick(){this.model.subAlarmMinute();this.update()}}])}(State);var StateSetAlarmSecond=function(_State7){function StateSetAlarmSecond(view,model){var _this9;_classCallCheck(this,StateSetAlarmSecond);_this9=_callSuper(this,StateSetAlarmSecond,[view,model]);_defineProperty(_this9,"name","setAlarmSecond");return _this9}_inherits(StateSetAlarmSecond,_State7);return _createClass(StateSetAlarmSecond,[{key:"update",value:function update(){if(this.model.isTimeUp){this.model.resetAlarm();this.model.changeState("alarm")}else{_superPropGet(StateSetAlarmSecond,"update",this,3)([{day:this.model.day,alarm:true,num:this.model.tempAlarmTime,amPm:this.model.amPm,blinkDot:true,blinkNum:[4,6],blinkAlarm:true,blinkScreen:false}])}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.setAlarm();this.model.changeState("time")}},{key:"handleUpClick",value:function handleUpClick(){this.model.addAlarmSecond();this.update()}},{key:"handleDownClick",value:function handleDownClick(){this.model.subAlarmSecond();this.update()}}])}(State);var _timerCountdown2=new WeakMap;var StateAlarm=function(_State8){function StateAlarm(view,model){var _this10;_classCallCheck(this,StateAlarm);_this10=_callSuper(this,StateAlarm,[view,model]);_defineProperty(_this10,"name","alarm");_classPrivateFieldInitSpec(_this10,_timerCountdown2,null);return _this10}_inherits(StateAlarm,_State8);return _createClass(StateAlarm,[{key:"update",value:function update(){_superPropGet(StateAlarm,"update",this,3)([{day:this.model.day,alarm:true,num:this.model.timeNum,amPm:this.model.amPm,blinkDot:true,blinkNum:[0,0],blinkAlarm:true,blinkScreen:true}])}},{key:"enter",value:function enter(){var _this11=this;_superPropGet(StateAlarm,"enter",this,3)([]);if(_classPrivateFieldGet(_timerCountdown2,this)===null){_classPrivateFieldSet(_timerCountdown2,this,setTimeout(function(){_this11.model.changeState("time");clearTimeout(_classPrivateFieldGet(_timerCountdown2,_this11));_classPrivateFieldSet(_timerCountdown2,_this11,null)},60000))}}},{key:"exit",value:function exit(){if(_classPrivateFieldGet(_timerCountdown2,this)!==null){clearTimeout(_classPrivateFieldGet(_timerCountdown2,this));_classPrivateFieldSet(_timerCountdown2,this,null)}}},{key:"handleCmdClick",value:function handleCmdClick(){this.model.changeState("time")}},{key:"handleUpClick",value:function handleUpClick(){this.model.changeState("time")}},{key:"handleDownClick",value:function handleDownClick(){this.model.changeState("time")}}])}(State);var _stateMap=new WeakMap;var _stateName=new WeakMap;var _date=new WeakMap;var _isValidDate=new WeakMap;var _tempAlarmTime=new WeakMap;var _setAlarmHour=new WeakMap;var _setAlarmMinute=new WeakMap;var _setAlarmSecond=new WeakMap;var _alarmTime=new WeakMap;var Model=function(){function Model(view){var _this12=this;_classCallCheck(this,Model);_defineProperty(this,"view",null);_classPrivateFieldInitSpec(this,_stateMap,{});_classPrivateFieldInitSpec(this,_stateName,"time");_defineProperty(this,"onCmdClick",function(){_this12.currentState.handleCmdClick()});_defineProperty(this,"onUpClick",function(){_this12.currentState.handleUpClick()});_defineProperty(this,"onDownClick",function(){_this12.currentState.handleDownClick()});_classPrivateFieldInitSpec(this,_date,null);_classPrivateFieldInitSpec(this,_isValidDate,function(date){return date instanceof Date&&!isNaN(date.getTime())});_defineProperty(this,"hour12",false);_classPrivateFieldInitSpec(this,_tempAlarmTime,[0,0,0]);_classPrivateFieldInitSpec(this,_setAlarmHour,function(v){_classPrivateFieldGet(_tempAlarmTime,_this12)[0]=(v+24)%24});_classPrivateFieldInitSpec(this,_setAlarmMinute,function(v){_classPrivateFieldGet(_tempAlarmTime,_this12)[1]=(v+60)%60});_classPrivateFieldInitSpec(this,_setAlarmSecond,function(v){_classPrivateFieldGet(_tempAlarmTime,_this12)[2]=(v+60)%60});_classPrivateFieldInitSpec(this,_alarmTime,[88,88,88]);this.view=view;this.view.bindEvent({onCmdClick:this.onCmdClick,onUpClick:this.onUpClick,onDownClick:this.onDownClick});[new StateTime(this.view,this),new StateDate(this.view,this),new StateSetAlarm(this.view,this),new StateSetAlarmHour(this.view,this),new StateSetAlarmMinute(this.view,this),new StateSetAlarmSecond(this.view,this),new StateAlarm(this.view,this)].forEach(function(state){_classPrivateFieldGet(_stateMap,_this12)[state.name]=state})}return _createClass(Model,[{key:"currentState",get:function get(){return _classPrivateFieldGet(_stateMap,this)[_classPrivateFieldGet(_stateName,this)]}},{key:"changeState",value:function changeState(v){this.currentState.exit();_classPrivateFieldSet(_stateName,this,v);this.currentState.enter()}},{key:"date",get:function get(){return _classPrivateFieldGet(_date,this)},set:function set(v){if(!(v instanceof Date)){v=new Date(v)}if(!_classPrivateFieldGet(_isValidDate,this).call(this,v)){return}_classPrivateFieldSet(_date,this,v)}},{key:"update",value:function update(){this.date=new Date;this.currentState.update()}},{key:"YYYY",get:function get(){return this.date.getFullYear()}},{key:"YY",get:function get(){return(this.YYYY%100).toString().padStart(2,0)}},{key:"M",get:function get(){return this.date.getMonth()+1}},{key:"MM",get:function get(){return this.M.toString().padStart(2,"0")}},{key:"D",get:function get(){return this.date.getDate()}},{key:"DD",get:function get(){return this.D.toString().padStart(2,"0")}},{key:"day",get:function get(){return this.date.getDay()}},{key:"H",get:function get(){return this.date.getHours()}},{key:"HH",get:function get(){return this.H.toString().padStart(2,"0")}},{key:"h",get:function get(){return(this.H-1)%12+1}},{key:"hh",get:function get(){return this.h.toString().padStart(2,"0")}},{key:"m",get:function get(){return this.date.getMinutes()}},{key:"mm",get:function get(){return this.m.toString().padStart(2,"0")}},{key:"s",get:function get(){return this.date.getSeconds()}},{key:"ss",get:function get(){return this.s.toString().padStart(2,"0")}},{key:"timeNum",get:function get(){return(this.hour12?this.hh:this.HH)+this.mm+this.ss}},{key:"dateNum",get:function get(){return this.YY+this.MM+this.DD}},{key:"amPm",get:function get(){return this.H>=12?"PM":"AM"}},{key:"tempAlarmTime",get:function get(){return _classPrivateFieldGet(_tempAlarmTime,this).map(function(item){return item.toString().padStart(2,"0")}).join("")}},{key:"alarmHour",get:function get(){return _classPrivateFieldGet(_tempAlarmTime,this)[0]}},{key:"addAlarmHour",value:function addAlarmHour(){_classPrivateFieldGet(_setAlarmHour,this).call(this,this.alarmHour+1)}},{key:"subAlarmHour",value:function subAlarmHour(){_classPrivateFieldGet(_setAlarmHour,this).call(this,this.alarmHour-1)}},{key:"alarmMinute",get:function get(){return _classPrivateFieldGet(_tempAlarmTime,this)[1]}},{key:"addAlarmMinute",value:function addAlarmMinute(){_classPrivateFieldGet(_setAlarmMinute,this).call(this,this.alarmMinute+1)}},{key:"subAlarmMinute",value:function subAlarmMinute(){_classPrivateFieldGet(_setAlarmMinute,this).call(this,this.alarmMinute-1)}},{key:"alarmSecond",get:function get(){return _classPrivateFieldGet(_tempAlarmTime,this)[2]}},{key:"addAlarmSecond",value:function addAlarmSecond(){_classPrivateFieldGet(_setAlarmSecond,this).call(this,this.alarmSecond+1)}},{key:"subAlarmSecond",value:function subAlarmSecond(){_classPrivateFieldGet(_setAlarmSecond,this).call(this,this.alarmSecond-1)}},{key:"alarmTime",get:function get(){return _classPrivateFieldGet(_alarmTime,this).map(function(item){return item.toString().padStart(2,"0")}).join("")}},{key:"isAlarmSet",get:function get(){return this.alarmTime!=="888888"}},{key:"isTimeUp",get:function get(){return this.alarmTime===this.timeNum}},{key:"setAlarm",value:function setAlarm(){_classPrivateFieldSet(_alarmTime,this,_toConsumableArray(_classPrivateFieldGet(_tempAlarmTime,this)))}},{key:"resetAlarm",value:function resetAlarm(){if(this.isAlarmSet){_classPrivateFieldSet(_tempAlarmTime,this,_toConsumableArray(_classPrivateFieldGet(_alarmTime,this)))}}},{key:"closeAlarm",value:function closeAlarm(){_classPrivateFieldSet(_alarmTime,this,[88,88,88])}}])}();var _lastTime=new WeakMap;var Clock=_createClass(function Clock(){var _this13=this;_classCallCheck(this,Clock);_defineProperty(this,"view",null);_defineProperty(this,"model",null);_classPrivateFieldInitSpec(this,_lastTime,0);_defineProperty(this,"interval",function(){var lastTime=Date.now();if(lastTime-_classPrivateFieldGet(_lastTime,_this13)>=1000){_classPrivateFieldSet(_lastTime,_this13,lastTime);_this13.model.update()}requestAnimationFrame(_this13.interval)});this.view=new View;this.model=new Model(this.view);this.interval()});var clock=new Clock;